<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>

<body>
      <script>
          /*ДЗ 17. Сумма зарплат

          Дізнатись суму всіх зарплат користувачів:

          let nestedObj = {
            sales: [{name: 'John', salary: 1000}, {fname: 'Alice', salary: 600 }],
            development: {
                web: [{name: 'Peter', salary: 2000}, {name: 'Alex', salary: 1800}],
                internals: [{name: 'Jack', salary: 1300}],
            }
        };

        Об'єкт може містити невідому кількість департаментів та співробітників
        */
          function calculateTotalSalary(obj) {
              let totalSalary = 0;

              for (let key in obj) {
                      if (Array.isArray(obj[key])) {
                          for (let value of obj[key]) {
                              if (value && typeof value === 'object' && !isNaN(value.salary) && value.hasOwnProperty('salary')) {
                                  totalSalary += value.salary;
                              } else {
                                  logError(value.salary, 'salary');
                              }
                          }
                      } else {
                          totalSalary += calculateTotalSalary(obj[key]);
                      }
              }
              return totalSalary;
          }

          function logError(value, text) {
              console.log(`У нас проблемка: значення ${text} одного об'єкта = ${value}, але це не вплине на виконання коду`);
          }

          let nestedObj = {
              sales: [{name: 'John', salary: 1000}, {fname: 'Alice', salary: 600 }],
              development: {
                  web: [{name: 'Peter', salary: 2000}, {name: 'Alex', salary: 1800}],
                  internals: [{name: 'Jack', salary: 1300}],
              }
          };

          console.log(`Вам потрібно заплатити своїм співробітникам: ${calculateTotalSalary(nestedObj)}$`);
      </script>
</body>

</html>
